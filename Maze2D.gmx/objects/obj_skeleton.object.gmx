<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>spr_skeleton</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>0</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>lastSimpang = noone;
agresivitas = 0.5; 
// 1 artinya selalu mengejar, 0: selalu random
// arah: -1 undefined, atas 1, kanan 2, bawah 3, kiri 4
arah = random_way(self);
depth = -5;


</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>//lakukan gerakan
   if (arah == 1) {
        y = y - 2; //atas
   } else  if (arah == 2) {
        x = x + 2; //kanan
   } else  if (arah == 4) {
        x = x - 2; //kiri 
   } else  if (arah == 3) {
        y = y + 2; //bawah
   } 
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="obj_dinding">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>// tabrak tembok
// ambil keputusan kejar atau random

lastSimpang = noone; //reset persimpangan (lihat dot_obj)

// ambil keputusan
var r = random_range(0,1);

if (r&lt;=agresivitas) {
  arah = chase_way(self);
  show_debug_message("kejar");
} else {
  arah = random_way(self);
  show_debug_message("random");
}


</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="obj_waterfall">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>// tabrak tembok
// ambil keputusan kejar atau random

lastSimpang = noone; //reset persimpangan (lihat dot_obj)

// ambil keputusan
var r = random_range(0,1);

if (r&lt;=agresivitas) {
  arah = chase_way(self);
  show_debug_message("kejar");
} else {
  arah = random_way(self);
  show_debug_message("random");
}


</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="obj_water">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>// tabrak tembok
// ambil keputusan kejar atau random

lastSimpang = noone; //reset persimpangan (lihat dot_obj)

// ambil keputusan
var r = random_range(0,1);

if (r&lt;=agresivitas) {
  arah = chase_way(self);
  show_debug_message("kejar");
} else {
  arah = random_way(self);
  show_debug_message("random");
}


</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="obj_simpang">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>//di persimpangan
//agar bisa ganti arah tanpa harus terbentuk tembok
//bedanya dengan tembok, dia tidak boleh memantul


if (lastSimpang&lt;&gt;other.id) {
    //kenapa tidak langsung arah diganti?
    //karena monster bisa saja masih belum masuk sepenuhnya ke persimpangan
    //jadi sudah collision, tapi belum bisa bergerak
    
    var r = random_range(0,1);

    if (r&lt;=agresivitas) {
        tempArah = chase_way(other);
    } else {
        tempArah = random_way(other);
    }
        
    //tidak boleh memantul krn bukan tembok, hanya boleh belok dan lurus
    if (arah==1 &amp;&amp; tempArah==3) {
      tempArah = 1; 
    }
    else
    if (arah==3 &amp;&amp; tempArah==1) {
      tempArah = 3; 
    }
    else
    if (arah==2 &amp;&amp; tempArah==4) {
      tempArah = 2; 
    }
    if (arah==4 &amp;&amp; tempArah==2) {
      tempArah = 4; 
    }
       
    show_debug_message("tempArah:"+string(tempArah));
    lastSimpang = other.id;
} else {
    //cek sampai bisa berubah arah (tidak ada tembok yg menghalangi
    var arrArahMungkin = possible_way(self);
    var jA = array_length_1d(arrArahMungkin);
    for (var i =0; i &lt; jA; i++) {
       if (tempArah == arrArahMungkin[i]) {
          arah = tempArah;
          break;
       }
    }
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
